import{d as w,u as y,j as g,r as V,e as U,k as M,o as p,c as _,a as e,w as I,t as u,f as x,g as f,v as b,b as S,l as $,m as v,n as h,q as F,p as k,i as B,_ as C}from"./index-2e16db4b.js";import{M as D}from"./Modal-72f8b513.js";const E={id:"updateForm"},N={class:"container"},T={class:"card card-body mt-4 mb-4"},j=["id","onSubmit"],q={key:0,class:"error-message text-danger mb-4"},A={class:"form-group"},P=e("label",{for:"username"},"Username",-1),R=["placeholder"],z={class:"form-group"},G=e("label",{for:"email"},"Email address",-1),H=["placeholder"],J={class:"form-group"},K=e("label",{for:"password"},"Password",-1),L=e("div",{class:"form-group"},[e("label",{for:"password-confirm"},"Confirm Password"),e("input",{type:"password-confirm",class:"form-control",id:"password-confirm"})],-1),O=w({__name:"UpdateForm",props:{validateForm:{type:Boolean},formId:{},modalIsVisible:{type:Boolean}},emits:["closeModal"],setup(l,{emit:n}){const r=l,i=y(),a=g(()=>i.user),s=V({username:"",email:"",password:""}),c=U("");M(()=>r.validateForm,async()=>{r.validateForm&&r.modalIsVisible?await m():n("closeModal",!1)});async function m(){console.log("SUBMIT is trigger from UpdateForm"),await i.update(s).then(t=>{s.username="",s.email="",s.password="",n("closeModal",!0)}).catch(t=>{console.log(t.message)})}return(t,o)=>(p(),_("div",E,[e("div",N,[e("div",T,[e("form",{ref:"form",id:t.formId,onSubmit:I(m,["prevent"])},[c.value?(p(),_("p",q,u(c.value),1)):x("",!0),e("div",A,[P,f(e("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>s.username=d),type:"text",class:"form-control",id:"username",placeholder:a.value.username},null,8,R),[[b,s.username]])]),e("div",z,[G,f(e("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>s.email=d),type:"email",class:"form-control",id:"email",placeholder:a.value.email},null,8,H),[[b,s.email]])]),e("div",J,[K,f(e("input",{"onUpdate:modelValue":o[2]||(o[2]=d=>s.password=d),type:"password",class:"form-control",id:"password",placeholder:"New password"},null,512),[[b,s.password]])]),L],40,j)])])]))}}),Q=l=>(k("data-v-ba8b89bb"),l=l(),B(),l),W={id:"user"},X={class:"container"},Y={key:0,class:"card card-body mt-4"},Z={class:"card-title"},ee={class:"card-subtitle mb-2 text-muted"},se={class:"card-subtitle mb-2 text-muted"},oe={id:"button-container",class:"d-flex flex-row-reverse p-2 gap-4"},te=Q(()=>e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#editUser"}," Edit User ",-1)),ae=w({__name:"UserView",setup(l){const n=S(),r=y(),i=U(!1),a=g(()=>r.user);async function s(){await r.getUser()}$(async()=>{await s()});function c(m){confirm("Do you really want to delete your profile?")&&(r.deleteUser(),n.replace({name:"login"}))}return(m,t)=>(p(),_("div",W,[e("div",X,[a.value?(p(),_("div",Y,[e("h5",Z,"Username: "+u(a.value.username),1),e("h6",ee,"Email: "+u(a.value.email),1),e("h6",se,"ID: "+u(a.value.id),1),e("div",null,[e("div",oe,[te,e("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=o=>c(a.value.id))}," Delete User ")]),v(D,{"close-modal":i.value,"modal-id":"editUser"},{title:h(()=>[F(" Edit User ")]),body:h(o=>[v(O,{"validate-form":o.validateForm,"modal-is-visible":o.modalIsVisible,"form-id":"editUser",onCloseModal:t[1]||(t[1]=d=>i.value=d)},null,8,["validate-form","modal-is-visible"])]),_:1},8,["close-modal"])])])):x("",!0)])]))}});const le=C(ae,[["__scopeId","data-v-ba8b89bb"]]);export{le as default};
