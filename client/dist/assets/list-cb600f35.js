import{u as o,y as i,z as a}from"./index-2e16db4b.js";const r=o(),c=r.user,d=i("list",{state:()=>({list:[],movie:[]}),getters:{},actions:{async getList(){console.log("GETLIST is called");try{const{data:e}=await a().get(`/api/list/user/${c.id}`);return this.list=[],this.movie=[],e.forEach(t=>{this.list.push({id:t._id,listName:t.listName,userId:t.userId}),this.getMovie(t._id)}),e}catch(e){throw e.response.message}},async getMovie(e){try{const{data:t}=await a().get(`/api/movie/list/${e}`);return t.forEach(s=>{this.movie.push({id:s._id,movieName:s.movieName,listId:s.listId,apiMovieId:s.apiMovieId,downloaded:s.downloaded,seen:s.seen})}),t}catch(t){throw t.response.message}},async createList(e){console.log("GETMOVIE is called");try{const{data:t}=await a().post("/api/list/create",e);return await this.getList(),t}catch(t){throw t.response.message}},async updateList(e,t){console.log("UPDATELIST is called");try{const{data:s}=await a().put(`/api/list/${t}`,e);return await this.getList(),s}catch(s){throw s.response.message}},async deleteList(e){console.log("DELETELIST is called");try{const{data:t}=await a().delete(`/api/list/${e}`);return t}catch(t){throw t.response.message}},async createMovie(e){console.log("CREATEMOVIE is called");try{const{data:t}=await a().post("/api/movie/create",e);return await this.getList(),t}catch(t){throw t.response.message}},async updateMovie(e,t){console.log("UPDATEMOVIE is called");try{const{data:s}=await a().put(`/api/movie/${t}`,e);return await this.getList(),s}catch(s){throw s.response.message}},async deleteMovie(e){console.log("DELETEMOVIE is called");try{const{data:t}=await a().delete(`/api/movie/${e}`);return t}catch(t){throw t.response.message}}}});export{d as u};
